<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Packing Slip</title>
  <style>
    /* CSS styles remain unchanged */
  </style>
</head>
<body>
  <div class="wrapper">
    {% assign total_cans = 0 %}
    {% assign pack_sizes = "28,24,12,10,8,6,5,4,1" | split: "," %}
    {% assign pack_counts = {} %}

    {% for item in order.line_items %}
      {% assign qty = item.quantity %}
      {% assign multiplier = 1 %}
      {% assign pack_type = "1" %}
      {% if item.variant.title contains "28 Pack" or item.variant.title contains "28-Pack" %}
        {% assign multiplier = 28 %}
        {% assign pack_type = "28" %}
      {% elsif item.variant.title contains "24 Pack" or item.variant.title contains "24-Pack" %}
        {% assign multiplier = 24 %}
        {% assign pack_type = "24" %}
      {% elsif item.variant.title contains "12 Pack" %}
        {% assign multiplier = 12 %}
        {% assign pack_type = "12" %}
      {% elsif item.variant.title contains "10 Pack" %}
        {% assign multiplier = 10 %}
        {% assign pack_type = "10" %}
      {% elsif item.variant.title contains "8 Pack" %}
        {% assign multiplier = 8 %}
        {% assign pack_type = "8" %}
      {% elsif item.variant.title contains "6 Pack" %}
        {% assign multiplier = 6 %}
        {% assign pack_type = "6" %}
      {% elsif item.variant.title contains "5 Pack" %}
        {% assign multiplier = 5 %}
        {% assign pack_type = "5" %}
      {% elsif item.variant.title contains "4 Pack" %}
        {% assign multiplier = 4 %}
        {% assign pack_type = "4" %}
      {% endif %}

      {% assign can_count = qty | times: multiplier %}
      {% assign total_cans = total_cans | plus: can_count %}
    {% endfor %}

    <!-- Calculate Box Breakdown -->
    {% assign box_breakdown = "" %}
    {% assign remaining_cans = total_cans %}
    {% assign total_boxes = 0 %}
    {% for size in pack_sizes %}
      {% assign int_size = size | plus: 0 %}
      {% assign count = remaining_cans | divided_by: int_size %}
      {% assign mod = remaining_cans | modulo: int_size %}
      {% if count > 0 %}
        {% assign box_breakdown = box_breakdown | append: count | append: " x " | append: size | append: "-pack box<br>" %}
        {% assign total_boxes = total_boxes | plus: count %}
        {% assign remaining_cans = mod %}
      {% endif %}
    {% endfor %}

    <!-- Boxes Required -->
    <div class="boxes">
      <p><strong>Boxes Required:</strong></p>
      <p>{{ box_breakdown }}</p>
      <p><strong>Total Boxes: {{ total_boxes }}</strong></p>
    </div>

    <!-- Continue with original HTML content... -->
  </div>
</body>
</html>
